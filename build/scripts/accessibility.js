import{keys,TASK_BTN_ID}from"./constants.js";import{startResetController}from"./timer.js";import{openStatsPane,closeStatsPane,statsPaneIsOpen}from"./stats.js";import{openSettingsPane,closeSettingsPane,settingsPaneIsOpen,removeAll}from"./settings.js";const RESET_YES_ID="reset-yes-button",RESET_NO_ID="reset-no-button",ACCESSIBLE_CLASS="accessible",root=document.documentElement;let accessibleMode=!1,keystrokeMode=!0;document.onkeydown=keyControls;export function toggleAccessibility(){accessibleMode?root.classList.remove("accessible"):root.classList.add("accessible"),accessibleMode=!accessibleMode}export function isA11yEnabled(){return accessibleMode}function keyControls(e){switch(e.code){case keys.ESCAPE:e.preventDefault(),settingsPaneIsOpen?closeSettingsPane():statsPaneIsOpen&&closeStatsPane();break;case keys.LEFT_ARROW:e.preventDefault(),removeAll(),settingsPaneIsOpen?closeSettingsPane():openStatsPane();break;case keys.RIGHT_ARROW:e.preventDefault(),removeAll(),statsPaneIsOpen?closeStatsPane():openSettingsPane();break;case keys.SPACE:document.activeElement instanceof HTMLInputElement||(e.preventDefault(),startResetController());break;case keys.Y:document.getElementById(RESET_YES_ID).click();break;case keys.N:document.getElementById(RESET_NO_ID).click();break;case keys.T:case keys.DOWN_ARROW:e.preventDefault(),document.getElementById(TASK_BTN_ID).click()}}export function toggleKeystroke(){keystrokeMode=!keystrokeMode,document.onkeydown=keystrokeMode?keyControls:void 0}export function isKeystrokeEnabled(){return keystrokeMode}